@prefix rule: <tag:stardog:api:rule:> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix indexer: <http://example.org/indexer#> .

indexer:imageSAR a rule:SPARQLRule;
	rule:content """
	PREFIX foaf: <http://xmlns.com/foaf/0.1/>
	PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
	PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
	PREFIX schema: <http://schema.org/>
	PREFIX dct: <http://purl.org/dc/terms/>
	PREFIX mrss: <http://search.yahoo.com/mrss/>
	PREFIX indexer: <http://example.org/indexer#>
	
	IF {
		?s rdf:type foaf:Image.
		?s rdfs:label ?label.
		?s dct:description ?description.
		?s dct:subject ?subject.
		?s foaf:depicts ?depicts.
		?s mrss:player ?player.
		BIND (UUID() AS ?id)
	} THEN {
		index:imageSAR index:triggered ?id.
		?id rdf:type foaf:Image.
		?id rdfs:label ?label.
		?id rdfs:comment ?description.
		?id foaf:topic ?subject.
		?id foaf:topic ?depicts.
		?id mrss:player ?player.
	}
	""";
	rdfs:label "Detect image in Shakespeare Archive Resource".
	

   